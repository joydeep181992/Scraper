/*! Cascading Navigation Expand/Collapse - v1.5.1 - 2014-01-31
* Copyright (c) 2014 by Derrick Gall; Licensed MIT */
$.fn.expandCollapse=function(a){var b,c,d,e,f,g,h,i=$(this),j="";a=$.extend({cookies:!1,sections:!0,singleMenu:!0,menuClosedClass:"menuClosed",menuOpenedClass:"menuOpened",togglingClass:"menuToggling",expandableClass:"itemExpandable",expandedClass:"itemExpanded",collapsedClass:"itemCollapsed",toggleOnly:!1},a),d=function(a,b,c){var d,e;c?(d=new Date,d.setTime(d.getTime()+24*c*60*60*1e3),e="; expires="+d.toGMTString()):e="",document.cookie=a+"="+b+e+"; path=/"},f=function(a){var b,c,d=a+"=",e=document.cookie.split(";");for(c=0;c<e.length;c++){for(b=e[c];" "===b.charAt(0);)b=b.substring(1,b.length);if(0===b.indexOf(d))return b.substring(d.length,b.length)}return null},g=function(b,c){a.cookies===!0&&d(b.parent().data("cascadingExpandCollapse"),c,99)},c=function(b){b.addClass(a.menuClosedClass).removeClass(a.menuOpenedClass).siblings("a").addClass(a.collapsedClass).removeClass(a.expandedClass),g(b,"closed")},e=function(b){b.addClass(a.menuOpenedClass).removeClass(a.menuClosedClass).siblings("a").addClass(a.expandedClass).removeClass(a.collapsedClass),g(b,"opened")},h=function(){var b=$(this);b.removeClass(a.togglingClass),b.hasClass(a.menuOpenedClass)===!0?c(b):e(b)},b=function(b){var c=$(this).siblings("ul"),d=a.toggleOnly===!0?!0:!1,e=b.target?$(b.target):null;(d===!0||null!==e&&e.hasClass("expandCollapseLink"))&&c.hasClass(a.togglingClass)===!1&&(c.addClass(a.togglingClass),a.singleMenu===!0&&i.find("."+a.menuOpenedClass+":not(."+a.togglingClass+")").slideUp(200,h),c.slideToggle(200,h),b.preventDefault())},a.sections===!0&&(j=location.pathname.replace(/^(\/[^\/]+\/).*/gi,"$1")),i.is("ul")===!1&&(i=i.find(" > ul:first")),$("> li > ul",i).addClass(a.menuClosedClass),$("> li > a",i).click(b).each(function(){var b=$(this),c=b.siblings("ul"),d="";c.length>0&&(a.cookies===!0&&(d="cascading"+b.text().replace(/ /gi,""),b.parent().data("cascadingExpandCollapse",d),f(d)&&"opened"===f(d)&&e(c)),b.addClass(a.expandableClass).prepend('<span class="expandCollapseLink"></span>'),a.sections===!0&&(j===b.attr("href")||c.find('a[href="'+j+'"]').length>0)&&e(c))})};